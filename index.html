<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Void Portfolio</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;600&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --bg:#0f0f12;
      --fg:#e8e8e8;
      --accent:#9f7aed;
      --radius:18px;
      --transition:.35s cubic-bezier(.3,.1,.2,1);
      --blur:14px;
      --mono:'Courier New', monospace;
    }

    *{box-sizing:border-box;}
    body {
      margin: 0;
      min-height:100vh;
      background: var(--bg);
      color: var(--fg);
      font-family: 'Montserrat', system-ui,-apple-system,sans-serif;
      overflow: hidden;
      position: relative;
      cursor: none;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      padding:0;
    }

    /* Custom Cursor */
    .cursor {
      position: fixed;
      top:0;
      left:0;
      width: 16px;
      height: 16px;
      border: 2px solid var(--accent);
      border-radius: 50%;
      pointer-events:none;
      mix-blend-mode: difference;
      transform: translate(-50%, -50%);
      transition: transform .15s ease, background .15s ease;
      backdrop-filter: blur(2px);
      z-index: 99;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .cursor.active {
      transform: translate(-50%, -50%) scale(2);
      background: rgba(159,122,237,.15);
    }

    h1 {
      font-weight: 200;
      font-size: clamp(2rem, 6vw, 4rem);
      letter-spacing: 0.25em;
      margin: 0;
      padding: 0;
      user-select: none;
      text-transform: uppercase;
      position: relative;
      z-index:2;
      line-height:1.1;
      display:inline-block;
      overflow: hidden;
      mix-blend-mode: screen;
    }

    .subtitle {
      margin-top:.5rem;
      font-size: .9rem;
      letter-spacing:.2em;
      text-transform: uppercase;
      font-weight:600;
      opacity:.85;
      position: relative;
      z-index:2;
    }

    .btn-wrap {
      margin-top:2rem;
      position: relative;
      z-index:2;
      display:flex;
      gap:1rem;
      flex-wrap:wrap;
      justify-content:center;
    }

    .enter-btn {
      position: relative;
      padding: 1rem 2.5rem;
      border: 1px solid var(--fg);
      background: transparent;
      color: var(--fg);
      font-size: 1rem;
      font-weight: 600;
      text-transform: uppercase;
      cursor: pointer;
      border-radius: 999px;
      letter-spacing:.2em;
      overflow:hidden;
      backdrop-filter:blur(4px);
      transition: all var(--transition);
      display:inline-flex;
      align-items:center;
      gap:.5rem;
    }
    .enter-btn:hover {
      background: rgba(255,255,255,.05);
      box-shadow: 0 0 30px var(--accent);
      transform: translateY(-2px);
    }

    .audio-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255,255,255,.05);
      border: 1px solid var(--fg);
      padding: .65rem .9rem;
      border-radius: 999px;
      cursor: pointer;
      font-size:.7rem;
      letter-spacing:.2em;
      text-transform: uppercase;
      display:flex;
      align-items:center;
      gap:.4rem;
      backdrop-filter: blur(8px);
      transition: all var(--transition);
      z-index:3;
    }
    .audio-toggle.active {
      background: rgba(159,122,237,.15);
      border-color: var(--accent);
      color: var(--accent);
    }

    /* Background canvas overlay */
    #bgcanvas {
      position: fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      mix-blend-mode: overlay;
    }

    /* Particle container */
    canvas#particles {
      position: fixed;
      inset:0;
      z-index:1;
      pointer-events:none;
    }

    /* Glitch effect overlay for text */
    .glitch {
      position: relative;
      display: inline-block;
    }
    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      left:0;
      top:0;
      width:100%;
      overflow:hidden;
      clip: rect(0,900px,0,0);
    }
    .glitch::before {
      animation: glitchTop 3s infinite linear;
      color: rgba(159,122,237,.8);
      z-index:3;
      mix-blend-mode: screen;
    }
    .glitch::after {
      animation: glitchBottom 2.7s infinite linear;
      color: rgba(255,255,255,.6);
      z-index:2;
      mix-blend-mode: screen;
    }

    @keyframes glitchTop {
      0% { clip: inset(0 0 0 0); transform: translate(0);}
      10% { clip: inset(2px 0 40px 0); transform: translate(-2px,-1px);}
      20% { clip: inset(10px 0 5px 0); transform: translate(2px,1px);}
      30% { clip: inset(0 0 25px 0); transform: translate(-1px,0);}
      40% { clip: inset(15px 0 8px 0); transform: translate(1px,-1px);}
      50% { clip: inset(0 0 0 0); transform: translate(0);}
      60% { clip: inset(6px 0 30px 0); transform: translate(-2px,1px);}
      70% { clip: inset(0 0 12px 0); transform: translate(2px,-1px);}
      80% { clip: inset(12px 0 4px 0); transform: translate(-1px,1px);}
      90% { clip: inset(3px 0 28px 0); transform: translate(1px,0);}
      100% { clip: inset(0 0 0 0); transform: translate(0);}
    }
    @keyframes glitchBottom {
      0% { clip: inset(0 0 0 0); transform: translate(0);}
      15% { clip: inset(8px 0 15px 0); transform: translate(1px,-1px);}
      35% { clip: inset(2px 0 30px 0); transform: translate(-1px,1px);}
      55% { clip: inset(10px 0 8px 0); transform: translate(2px,0);}
      75% { clip: inset(0 0 25px 0); transform: translate(-2px,-1px);}
      95% { clip: inset(5px 0 18px 0); transform: translate(1px,1px);}
      100% { clip: inset(0 0 0 0); transform: translate(0);}
    }

    /* Tiny caption */
    .credit {
      position: absolute;
      bottom: .8rem;
      left: .8rem;
      font-size:.55rem;
      letter-spacing:.2em;
      opacity:.4;
      z-index:2;
    }
  </style>
</head>

<body>
  <!-- custom cursor -->
  <div class="cursor" id="cursor"></div>

  <div id="content" aria-label="intro block">
    <h1 class="glitch" data-text="VOID / CREATOR">
      <span id="dynamic-text">VOID / CREATOR</span>
    </h1>
    <div class="subtitle" id="subtext">a quiet disturbance in the dark</div>

    <div class="btn-wrap">
      <button class="enter-btn" onclick="enterSite()">
        <span>Enter</span>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          style="transform:translateY(1px);">
          <path d="M5 12h14M13 6l6 6-6 6" />
        </svg>
      </button>
    </div>
  </div>

  <div class="audio-toggle" id="audioBtn" aria-label="toggle ambient sound">
    <span id="audioIcon">ðŸ”Š</span><span id="audioText">Ambient</span>
  </div>

  <canvas id="bgcanvas"></canvas>
  <canvas id="particles"></canvas>

  <div class="credit">crafted in code â€” deviations welcome</div>

  <script>
    // --- navigation ---
    function enterSite() {
      // subtle delay + flash
      document.body.style.transition = 'background .8s ease';
      document.body.style.filter = 'brightness(.7)';
      setTimeout(() => {
        window.location.href = 'portfolio.html';
      }, 500);
    }

    // --- custom cursor logic ---
    const cursor = document.getElementById('cursor');
    let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
    });
    // enlarge on hover
    document.querySelectorAll('.enter-btn').forEach(el => {
      el.addEventListener('mouseenter', () => cursor.classList.add('active'));
      el.addEventListener('mouseleave', () => cursor.classList.remove('active'));
    });

    // --- dynamic headline text snippets ---
    const snippets = [
      "VOID / CREATOR",
      "SILENCE IS LOUDER THAN CODE",
      "SHADOWS SPEAK IN PIXELS",
      "MINIMALISM: AN ACTIVE REVOLT",
      "YOU ARE THE GLITCH",
      "DRIFT, NOT DEFINE"
    ];
    let idx = 0;
    const dynamic = document.getElementById('dynamic-text');
    const sub = document.getElementById('subtext');

    function typeEffect(target, text, speed = 45) {
      target.textContent = '';
      let i = 0;
      const t = setInterval(() => {
        target.textContent += text[i++];
        if (i >= text.length) clearInterval(t);
      }, speed);
    }
    function rotateText() {
      idx = (idx + 1) % snippets.length;
      typeEffect(dynamic, snippets[idx]);
      // update glitch data-text for overlay
      document.querySelector('.glitch').setAttribute('data-text', snippets[idx]);
      // random subtext variant
      const subs = [
        "a quiet disturbance in the dark",
        "code as ambient ritual",
        "edges of the digital void",
        "where minimal meets menace",
        "echoes in empty space"
      ];
      sub.textContent = subs[Math.floor(Math.random() * subs.length)];
    }
    setInterval(rotateText, 6000);
    // initial
    rotateText();

    // --- background canvas noise & gradient ---
    const bgc = document.getElementById('bgcanvas');
    const bctx = bgc.getContext('2d');
    function resizeCanvas() {
      bgc.width = window.innerWidth;
      bgc.height = window.innerHeight;
      particlesCanvas.width = window.innerWidth;
      particlesCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // procedural subtle noise overlay
    function drawNoise() {
      const imageData = bctx.createImageData(bgc.width, bgc.height);
      const buffer = new Uint32Array(imageData.data.buffer);
      for (let i = 0; i < buffer.length; i++) {
        const v = (Math.random() * 8) | 0; // very subtle
        buffer[i] = (v << 24) | (v << 16) | (v << 8) | v;
      }
      bctx.putImageData(imageData, 0, 0);
      // gradient wash
      const grd = bctx.createRadialGradient(
        bgc.width * 0.3, bgc.height * 0.4, 100,
        bgc.width * 0.7, bgc.height * 0.6, Math.max(bgc.width, bgc.height)
      );
      grd.addColorStop(0, 'rgba(159,122,237,0.04)');
      grd.addColorStop(1, 'rgba(15,15,18,0.9)');
      bctx.fillStyle = grd;
      bctx.fillRect(0,0,bgc.width,bgc.height);
    }

    // --- particle trail ---
    const particlesCanvas = document.getElementById('particles');
    const pctx = particlesCanvas.getContext('2d');
    let particles = [];
    function spawnParticle(x, y) {
      particles.push({
        x, y,
        vx: (Math.random() - 0.5) * 0.5,
        vy: (Math.random() - 0.5) * 0.5,
        life: Math.random() * 60 + 40,
        size: Math.random() * 3 + 1,
        alpha: 1
      });
      if (particles.length > 250) particles.shift();
    }

    window.addEventListener('mousemove', (e) => {
      spawnParticle(e.clientX, e.clientY);
    });

    function updateParticles() {
      pctx.clearRect(0,0,particlesCanvas.width, particlesCanvas.height);
      particles.forEach((p, i) => {
        p.x += p.vx;
        p.y += p.vy;
        p.life--;
        p.alpha = Math.max(0, p.life / 100);
        pctx.globalAlpha = p.alpha * 0.6;
        pctx.fillStyle = "rgba(159,122,237,1)";
        pctx.beginPath();
        pctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        pctx.fill();
        if (p.life <= 0) particles[i] = null;
      });
      particles = particles.filter(Boolean);
    }

    // --- main loop ---
    let lastNoise = 0;
    function loop(t) {
      if (t - lastNoise > 100) { // refresh noise occasionally
        drawNoise();
        lastNoise = t;
      }
      updateParticles();
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    // --- ambient generative audio ---
    let audioCtx, droneOsc, gainNode, lfo, isPlaying = false;

    function initAudio() {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      gainNode = audioCtx.createGain();
      gainNode.gain.value = 0.13; // low volume
      // drone oscillator with slow detune wobble (LFO)
      droneOsc = audioCtx.createOscillator();
      droneOsc.type = 'sawtooth';
      droneOsc.frequency.value = 55; // low hum
      // subtle low-frequency amplitude modulation
      lfo = audioCtx.createOscillator();
      lfo.type = 'triangle';
      lfo.frequency.value = 0.08; // very slow
      const lfoGain = audioCtx.createGain();
      lfoGain.gain.value = 5; // detune depth
      lfo.connect(lfoGain);
      lfoGain.connect(droneOsc.detune);
      // create a subtle reverb-ish using delay + feedback
      const delay = audioCtx.createDelay();
      delay.delayTime.value = 0.9;
      const feedback = audioCtx.createGain();
      feedback.gain.value = 0.35;
      delay.connect(feedback);
      feedback.connect(delay);
      // filter to darken
      const filter = audioCtx.createBiquadFilter();
      filter.type = 'lowpass';
      filter.frequency.value = 800;

      // chain: drone -> filter -> delay loop -> gain -> destination
      droneOsc.connect(filter);
      filter.connect(delay);
      delay.connect(gainNode);
      filter.connect(gainNode);
      gainNode.connect(audioCtx.destination);

      droneOsc.start();
      lfo.start();
    }

    function toggleAudio() {
      if (!audioCtx) initAudio();
      if (!isPlaying) {
        audioCtx.resume();
        isPlaying = true;
        document.getElementById('audioBtn').classList.add('active');
        document.getElementById('audioIcon').textContent = "ðŸ”Š";
      } else {
        audioCtx.suspend();
        isPlaying = false;
        document.getElementById('audioBtn').classList.remove('active');
        document.getElementById('audioIcon').textContent = "ðŸ”‡";
      }
    }

    document.getElementById('audioBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      toggleAudio();
    });

    // auto-start (with user gesture fallback)
    window.addEventListener('click', () => {
      if (!isPlaying) toggleAudio();
    }, { once: true });

    // --- subtle parallax on mouse move for content ---
    window.addEventListener('mousemove', (e) => {
      const rx = (e.clientX / window.innerWidth - 0.5) * 15;
      const ry = (e.clientY / window.innerHeight - 0.5) * 15;
      document.getElementById('content').style.transform = `translate3d(${rx}px, ${ry}px,0)`;
    });

    // --- accessibility fallback: reduce motion if prefers-reduced-motion ---
    const media = window.matchMedia('(prefers-reduced-motion: reduce)');
    if (media.matches) {
      // disable animations / heavy effects
      document.body.style.transition = 'none';
      // stop rotating text
      clearInterval();
    }
  </script>
</body>
</html>
